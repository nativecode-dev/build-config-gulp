"use strict";module.exports=function(c,e,r){var t=[];return function(e,r){return c.task("watch:rebuild",function(){Object.keys(r).map(function(e){t.push(c.watch(e,r[e]))})}),c.task("watch:reload",["watch:rebuild"],function(){var r=null;c.watch("gulpfile.js",function(){for(var c=process.argv.slice(1,2).concat(e||[],["watch:rebuild"]),n=t?t.length-1:0,s=process.argv[0];n>0;)t[n].end().remove(),n--;t=[],r&&r.kill(),r=require("child_process").spawn(s,c,{cwd:process.cwd(),stdio:"inherit"})})})}};