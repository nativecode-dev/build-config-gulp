"use strict";module.exports=function(e){var r=[];return e.reload=function(c,t){return e.task("watch:rebuild",function(){Object.keys(c).map(function(t){r.push(e.watch(t,c[t]))})}),e.task("watch:reload",["watch:rebuild"],function(){var o=void 0,s=c.globs||"gulpfile.js";e.watch(s,function(){for(var e=process.argv.slice(1,2).concat(t||[],["watch:rebuild"]),c=process.argv[0],s=r?r.length-1:0;s>0;)r[s].end().remove(),s--;r=[],o&&o.kill(),o=require("child_process").spawn(c,e,{cwd:process.cwd(),stdio:"inherit"})})})}};