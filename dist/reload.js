"use strict";module.exports=function(e,c,r){var t=[];return function(c,r){return e.task("watch:rebuild",function(){Object.keys(r).map(function(c){t.push(e.watch(c,r[c]))})}),e.task("watch:reload",["watch:rebuild"],function(){var r=null;e.watch(["gulpfile.js","gulpfile.json"],function(){for(var e=process.argv.slice(1,2).concat(c||[],["watch:rebuild"]),n=t?t.length-1:0,s=process.argv[0];n>0;)t[n].end().remove(),n--;t=[],r&&r.kill(),r=require("child_process").spawn(s,e,{cwd:process.cwd(),stdio:"inherit"})})})}};